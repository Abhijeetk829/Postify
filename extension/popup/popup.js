(()=>{"use strict";const e="AI21APIKey";document.addEventListener("DOMContentLoaded",(function(){const[t,n,d,a]=[document.getElementById("format"),document.getElementById("rewrite"),document.getElementById("beautify"),document.getElementById("saveAPI")];async function c(e){const[t]=await chrome.tabs.query({active:!0,lastFocusedWindow:!0}),n=await chrome.tabs.sendMessage(t.id,{type:e,intent:"copy"});chrome.runtime.sendMessage(n)}function i(e){e=`${e.slice(0,4)}***************`,document.getElementById("APIkey").value=e,t.disabled=!1,n.disabled=!1,d.disabled=!1}t.disabled=!0,n.disabled=!0,d.disabled=!0,chrome.storage.local.get(e,(function(t){t&&i(t[e])})),t.addEventListener("click",(()=>{c("format")})),n.addEventListener("click",(()=>{c("rewrite")})),d.addEventListener("click",(()=>{c("beautify")})),a.addEventListener("click",(()=>{var e;i((e=document.getElementById("APIkey").value,chrome.storage.local.set({AI21APIKey:e}),e))}))}))})();